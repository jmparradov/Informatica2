#include "obstacle.h"
#include "road.h"

#define worldx 15024
#define worldy 6736

obstacle::obstacle(std::map<double, std::vector<double>> line, double Xo, std::string type)
{
    lines = line;
    double height = 0;
    std::map<double, std::vector<double>>::iterator it;

    it = lines.lower_bound (Xo*worldx);
    double Yo = it->second[0];

    if (type == "barrel"){
        height = 71*0.9;
        QGraphicsPixmapItem item1;
        QPixmap pim(":/sources/objects/barrel.png");

        item1.setPixmap(pim);
        item1.group();
        //addToGroup(item1);
    }

    else if(type == "bush1"){
        height = 60*0.9;
        QGraphicsPixmapItem item1;
        QPixmap pim(":/sources/objects/bush1.png");
        itemsetPixmap(pim);
    }


    setPos(it->first,Yo-height);
    qDebug() << Xo;

}
